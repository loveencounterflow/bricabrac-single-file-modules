(function() {
  'use strict';
  var BRICS;

  //###########################################################################################################

  //===========================================================================================================
  BRICS = {
    //=========================================================================================================
    /* NOTE Future Single-File Module */
    require_nanotypes: function() {
      var CFG, SFMODULES, Type, Typespace, clean_assign, exports, freeze, hide, nameit, remap, rpr, set_getter;
      //=======================================================================================================
      SFMODULES = require('./main');
      ({clean_assign} = SFMODULES.unstable.require_clean_assign());
      ({hide, set_getter} = SFMODULES.require_managed_property_tools());
      ({nameit} = SFMODULES.require_nameit());
      ({remap} = SFMODULES.unstable.require_remap());
      ({freeze} = Object);
      ({
        show_no_colors: rpr
      } = SFMODULES.unstable.require_show());
      // { type_of,              } = SFMODULES.unstable.require_type_of()
      CFG = Symbol.for('cfg');
      //=======================================================================================================
      Type = class Type {
        //-----------------------------------------------------------------------------------------------------
        constructor(typespace, name, isa) {
          hide(this, 'name', name);
          hide(this, 'T', typespace);
          hide(this, '_isa', isa);
          set_getter(this, CFG, () => {
            return this.T[CFG];
          });
          this.data = {}; // new Bounded_list()
          return void 0;
        }

        //-----------------------------------------------------------------------------------------------------
        isa(x, data = null, mapping = null) {
          var R;
          this.data = {};
          R = this._isa.call(this, x);
          //...................................................................................................
          if (data != null) {
            if (mapping != null) {
              clean_assign(data, remap(clean_assign({}, this.data), mapping));
            } else {
              /* d1 m1 */              clean_assign(data, this.data);
            }
          } else /* d1 m0 */if (mapping != null) {
            remap(this.data, mapping);
          }
/* d0 m1 */          return R/* d0 m0 */;
        }

        //-----------------------------------------------------------------------------------------------------
        validate(x, data = null, mapping = null) {
          if (this.isa(x, data, mapping)) {
            return x;
          }
          /* TAINT use better rpr() */
          throw new Error(`Ωbbnt___1 not a valid ${this.name}: ${x}`);
        }

        //-----------------------------------------------------------------------------------------------------
        assign(...P) {
          return clean_assign(this.data, ...P);
        }

        //-----------------------------------------------------------------------------------------------------
        fail(message, ...P) {
          clean_assign(this.data, {message}, ...P);
          return false;
        }

      };
      Typespace = (function() {
        //=======================================================================================================
        class Typespace {
          //=====================================================================================================
          constructor(cfg = null) {
            var Typeclass, clasz, i, isa, len, name, ref, ref1;
            clasz = this.constructor;
            this[CFG] = freeze(clean_assign({}, (ref = clasz[CFG]) != null ? ref : void 0, cfg != null ? cfg : void 0));
            ref1 = Object.getOwnPropertyNames(clasz);
            for (i = 0, len = ref1.length; i < len; i++) {
              name = ref1[i];
              Typeclass = class Typeclass extends Type {};
              nameit(name, Typeclass);
              this[name] = new Typeclass(this, name, isa = clasz[name]);
            }
            return void 0;
          }

        };

        //-----------------------------------------------------------------------------------------------------
        Typespace[CFG] = null;

        return Typespace;

      }).call(this);
      //=======================================================================================================
      return exports = {Type, Typespace, CFG};
    },
    //=========================================================================================================
    /* NOTE Future Single-File Module */
    require_nanotypes_v2: function() {
      var CFG, SFMODULES, Type, Typespace, clean_assign, exports, freeze, hide, nameit, remap, rpr, set_getter;
      //=======================================================================================================
      SFMODULES = require('./main');
      ({clean_assign} = SFMODULES.unstable.require_clean_assign());
      ({hide, set_getter} = SFMODULES.require_managed_property_tools());
      ({nameit} = SFMODULES.require_nameit());
      ({remap} = SFMODULES.unstable.require_remap());
      ({freeze} = Object);
      ({
        show_no_colors: rpr
      } = SFMODULES.unstable.require_show());
      // { type_of,              } = SFMODULES.unstable.require_type_of()
      CFG = Symbol.for('cfg');
      //=======================================================================================================
      Type = class Type {
        //-----------------------------------------------------------------------------------------------------
        constructor(typespace, name, isa) {
          hide(this, 'name', name);
          hide(this, 'T', typespace);
          hide(this, '_isa', isa);
          set_getter(this, CFG, () => {
            return this.T[CFG];
          });
          this.data = {};
          return void 0;
        }

        //-----------------------------------------------------------------------------------------------------
        isa(x, ...P) {
          var R;
          R = this._isa.call(this, x, ...P);
          return R;
        }

        //-----------------------------------------------------------------------------------------------------
        isa_datmap([x, ...P], data = null, mapping = null) {
          var R;
          this.data = {};
          R = this.isa(x, ...P);
          //...................................................................................................
          if (data != null) {
            if (mapping != null) {
              clean_assign(data, remap(clean_assign({}, this.data), mapping));
            } else {
              /* d1 m1 */              clean_assign(data, this.data);
            }
          } else /* d1 m0 */if (mapping != null) {
            remap(this.data, mapping);
          }
/* d0 m1 */          return R/* d0 m0 */;
        }

        //-----------------------------------------------------------------------------------------------------
        datmap_isa(data, mapping, x, ...P) {
          var R;
          this.data = {};
          R = this.isa(x, ...P);
          //...................................................................................................
          if (data != null) {
            if (mapping != null) {
              clean_assign(data, remap(clean_assign({}, this.data), mapping));
            } else {
              /* d1 m1 */              clean_assign(data, this.data);
            }
          } else /* d1 m0 */if (mapping != null) {
            remap(this.data, mapping);
          }
/* d0 m1 */          return R/* d0 m0 */;
        }

        //-----------------------------------------------------------------------------------------------------
        validate(x, ...P) {
          if (this.isa(x, ...P)) {
            return x;
          }
          /* TAINT use better rpr() */
          throw new Error(`Ωbbnt___2 not a valid ${this.name}: ${x}`);
        }

        //-----------------------------------------------------------------------------------------------------
        validate_datmap([x, ...P], data = null, mapping = null) {
          if (this.isa_datmap([x, ...P], data, mapping)) {
            return x;
          }
          /* TAINT use better rpr() */
          throw new Error(`Ωbbnt___3 not a valid ${this.name}: ${x}`);
        }

        //-----------------------------------------------------------------------------------------------------
        assign(...P) {
          return clean_assign(this.data, ...P);
        }

        //-----------------------------------------------------------------------------------------------------
        fail(message, ...P) {
          clean_assign(this.data, {message}, ...P);
          return false;
        }

      };
      Typespace = (function() {
        //=======================================================================================================
        class Typespace {
          //=====================================================================================================
          constructor(cfg = null) {
            var Typeclass, clasz, i, isa, len, name, ref, ref1;
            clasz = this.constructor;
            this[CFG] = freeze(clean_assign({}, (ref = clasz[CFG]) != null ? ref : void 0, cfg != null ? cfg : void 0));
            ref1 = Object.getOwnPropertyNames(clasz);
            for (i = 0, len = ref1.length; i < len; i++) {
              name = ref1[i];
              Typeclass = class Typeclass extends Type {};
              nameit(name, Typeclass);
              this[name] = new Typeclass(this, name, isa = clasz[name]);
            }
            return void 0;
          }

        };

        //-----------------------------------------------------------------------------------------------------
        Typespace[CFG] = null;

        return Typespace;

      }).call(this);
      //=======================================================================================================
      return exports = {Type, Typespace, CFG};
    }
  };

  //===========================================================================================================
  Object.assign(module.exports, BRICS);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3Vuc3RhYmxlLW5hbm90eXBlcy1icmljcy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFBQTtBQUFBLE1BQUEsS0FBQTs7Ozs7RUFNQSxLQUFBLEdBSUUsQ0FBQTs7O0lBQUEsaUJBQUEsRUFBbUIsUUFBQSxDQUFBLENBQUE7QUFFckIsVUFBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsWUFBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUE7O01BQ0ksU0FBQSxHQUE0QixPQUFBLENBQVEsUUFBUjtNQUM1QixDQUFBLENBQUUsWUFBRixDQUFBLEdBQTRCLFNBQVMsQ0FBQyxRQUFRLENBQUMsb0JBQW5CLENBQUEsQ0FBNUI7TUFDQSxDQUFBLENBQUUsSUFBRixFQUNFLFVBREYsQ0FBQSxHQUM0QixTQUFTLENBQUMsOEJBQVYsQ0FBQSxDQUQ1QjtNQUVBLENBQUEsQ0FBRSxNQUFGLENBQUEsR0FBNEIsU0FBUyxDQUFDLGNBQVYsQ0FBQSxDQUE1QjtNQUNBLENBQUEsQ0FBRSxLQUFGLENBQUEsR0FBNEIsU0FBUyxDQUFDLFFBQVEsQ0FBQyxhQUFuQixDQUFBLENBQTVCO01BQ0EsQ0FBQSxDQUFFLE1BQUYsQ0FBQSxHQUE0QixNQUE1QjtNQUNBLENBQUE7UUFBRSxjQUFBLEVBQWdCO01BQWxCLENBQUEsR0FBNEIsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFuQixDQUFBLENBQTVCLEVBUko7O01BVUksR0FBQSxHQUE0QixNQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsRUFWaEM7O01BYVUsT0FBTixNQUFBLEtBQUEsQ0FBQTs7UUFHRSxXQUFhLENBQUUsU0FBRixFQUFhLElBQWIsRUFBbUIsR0FBbkIsQ0FBQTtVQUNYLElBQUEsQ0FBSyxJQUFMLEVBQVEsTUFBUixFQUFvQixJ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IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiNcbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuQlJJQ1MgPVxuXG4gICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgIyMjIE5PVEUgRnV0dXJlIFNpbmdsZS1GaWxlIE1vZHVsZSAjIyNcbiAgcmVxdWlyZV9uYW5vdHlwZXM6IC0+XG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIFNGTU9EVUxFUyAgICAgICAgICAgICAgICAgPSByZXF1aXJlICcuL21haW4nXG4gICAgeyBjbGVhbl9hc3NpZ24sICAgICAgICAgfSA9IFNGTU9EVUxFUy51bnN0YWJsZS5yZXF1aXJlX2NsZWFuX2Fzc2lnbigpXG4gICAgeyBoaWRlLFxuICAgICAgc2V0X2dldHRlciwgICAgICAgICAgIH0gPSBTRk1PRFVMRVMucmVxdWlyZV9tYW5hZ2VkX3Byb3BlcnR5X3Rvb2xzKClcbiAgICB7IG5hbWVpdCwgICAgICAgICAgICAgICB9ID0gU0ZNT0RVTEVTLnJlcXVpcmVfbmFtZWl0KClcbiAgICB7IHJlbWFwLCAgICAgICAgICAgICAgICB9ID0gU0ZNT0RVTEVTLnVuc3RhYmxlLnJlcXVpcmVfcmVtYXAoKVxuICAgIHsgZnJlZXplLCAgICAgICAgICAgICAgIH0gPSBPYmplY3RcbiAgICB7IHNob3dfbm9fY29sb3JzOiBycHIsICB9ID0gU0ZNT0RVTEVTLnVuc3RhYmxlLnJlcXVpcmVfc2hvdygpXG4gICAgIyB7IHR5cGVfb2YsICAgICAgICAgICAgICB9ID0gU0ZNT0RVTEVTLnVuc3RhYmxlLnJlcXVpcmVfdHlwZV9vZigpXG4gICAgQ0ZHICAgICAgICAgICAgICAgICAgICAgICA9IFN5bWJvbC5mb3IgJ2NmZydcblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgY2xhc3MgVHlwZVxuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGNvbnN0cnVjdG9yOiAoIHR5cGVzcGFjZSwgbmFtZSwgaXNhICkgLT5cbiAgICAgICAgaGlkZSBALCAnbmFtZScsICAgICBuYW1lXG4gICAgICAgIGhpZGUgQCwgJ1QnLCAgICAgICAgdHlwZXNwYWNlXG4gICAgICAgIGhpZGUgQCwgJ19pc2EnLCAgICAgaXNhXG4gICAgICAgIHNldF9nZXR0ZXIgQCwgQ0ZHLCAgPT4gQFRbQ0ZHXVxuICAgICAgICBAZGF0YSAgICAgICAgICAgICA9IHt9ICMgbmV3IEJvdW5kZWRfbGlzdCgpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcblxuICAgICAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBpc2E6ICggeCwgZGF0YSA9IG51bGwsIG1hcHBpbmcgPSBudWxsICkgLT5cbiAgICAgICAgQGRhdGEgICA9IHt9XG4gICAgICAgIFIgICAgICAgPSBAX2lzYS5jYWxsIEAsIHhcbiAgICAgICAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgICAgICBpZiBkYXRhP1xuICAgICAgICAgIGlmIG1hcHBpbmc/ICAgICB0aGVuICBjbGVhbl9hc3NpZ24gZGF0YSwgKCByZW1hcCAoIGNsZWFuX2Fzc2lnbiB7fSwgQGRhdGEgKSwgbWFwcGluZyApICAjIyMgZDEgbTEgIyMjXG4gICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgIGNsZWFuX2Fzc2lnbiBkYXRhLCAgICAgICAgICAgICAgICAgICAgICAgICAgICBAZGF0YSAgICAgICAgICAgICAgICMjIyBkMSBtMCAjIyNcbiAgICAgICAgZWxzZSBpZiBtYXBwaW5nPyAgdGhlbiAgICAgICAgICAgICAgICAgICAgICAgcmVtYXAgICAgICAgICAgICAgICAgICAgIEBkYXRhLCAgIG1hcHBpbmcgICAgIyMjIGQwIG0xICMjI1xuICAgICAgICByZXR1cm4gUiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyMgZDAgbTAgIyMjXG5cbiAgICAgICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgdmFsaWRhdGU6ICggeCwgZGF0YSA9IG51bGwsIG1hcHBpbmcgPSBudWxsICkgLT5cbiAgICAgICAgcmV0dXJuIHggaWYgQGlzYSB4LCBkYXRhLCBtYXBwaW5nXG4gICAgICAgICMjIyBUQUlOVCB1c2UgYmV0dGVyIHJwcigpICMjI1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IgXCLOqWJibnRfX18xIG5vdCBhIHZhbGlkICN7QG5hbWV9OiAje3h9XCJcblxuICAgICAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBhc3NpZ246ICggUC4uLiApIC0+IGNsZWFuX2Fzc2lnbiBAZGF0YSwgUC4uLlxuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGZhaWw6ICggbWVzc2FnZSwgUC4uLiApIC0+IGNsZWFuX2Fzc2lnbiBAZGF0YSwgeyBtZXNzYWdlLCB9LCBQLi4uOyBmYWxzZVxuXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGNsYXNzIFR5cGVzcGFjZVxuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIEBbQ0ZHXTogbnVsbFxuXG4gICAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIGNvbnN0cnVjdG9yOiAoIGNmZyA9IG51bGwgKSAtPlxuICAgICAgICBjbGFzeiAgID0gQGNvbnN0cnVjdG9yXG4gICAgICAgIEBbQ0ZHXSAgPSBmcmVlemUgY2xlYW5fYXNzaWduIHt9LCAoIGNsYXN6W0NGR10gPyB1bmRlZmluZWQgKSwgKCBjZmcgPyB1bmRlZmluZWQgKVxuICAgICAgICBmb3IgbmFtZSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyBjbGFzelxuICAgICAgICAgIGNsYXNzIFR5cGVjbGFzcyBleHRlbmRzIFR5cGVcbiAgICAgICAgICBuYW1laXQgbmFtZSwgVHlwZWNsYXNzXG4gICAgICAgICAgQFsgbmFtZSBdID0gbmV3IFR5cGVjbGFzcyBALCBuYW1lLCBpc2EgPSBjbGFzelsgbmFtZSBdXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgcmV0dXJuIGV4cG9ydHMgPSB7IFR5cGUsIFR5cGVzcGFjZSwgQ0ZHLCB9XG5cblxuICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICMjIyBOT1RFIEZ1dHVyZSBTaW5nbGUtRmlsZSBNb2R1bGUgIyMjXG4gIHJlcXVpcmVfbmFub3R5cGVzX3YyOiAtPlxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBTRk1PRFVMRVMgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnLi9tYWluJ1xuICAgIHsgY2xlYW5fYXNzaWduLCAgICAgICAgIH0gPSBTRk1PRFVMRVMudW5zdGFibGUucmVxdWlyZV9jbGVhbl9hc3NpZ24oKVxuICAgIHsgaGlkZSxcbiAgICAgIHNldF9nZXR0ZXIsICAgICAgICAgICB9ID0gU0ZNT0RVTEVTLnJlcXVpcmVfbWFuYWdlZF9wcm9wZXJ0eV90b29scygpXG4gICAgeyBuYW1laXQsICAgICAgICAgICAgICAgfSA9IFNGTU9EVUxFUy5yZXF1aXJlX25hbWVpdCgpXG4gICAgeyByZW1hcCwgICAgICAgICAgICAgICAgfSA9IFNGTU9EVUxFUy51bnN0YWJsZS5yZXF1aXJlX3JlbWFwKClcbiAgICB7IGZyZWV6ZSwgICAgICAgICAgICAgICB9ID0gT2JqZWN0XG4gICAgeyBzaG93X25vX2NvbG9yczogcnByLCAgfSA9IFNGTU9EVUxFUy51bnN0YWJsZS5yZXF1aXJlX3Nob3coKVxuICAgICMgeyB0eXBlX29mLCAgICAgICAgICAgICAgfSA9IFNGTU9EVUxFUy51bnN0YWJsZS5yZXF1aXJlX3R5cGVfb2YoKVxuICAgIENGRyAgICAgICAgICAgICAgICAgICAgICAgPSBTeW1ib2wuZm9yICdjZmcnXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGNsYXNzIFR5cGVcblxuICAgICAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBjb25zdHJ1Y3RvcjogKCB0eXBlc3BhY2UsIG5hbWUsIGlzYSApIC0+XG4gICAgICAgIGhpZGUgQCwgJ25hbWUnLCAgICAgbmFtZVxuICAgICAgICBoaWRlIEAsICdUJywgICAgICAgIHR5cGVzcGFjZVxuICAgICAgICBoaWRlIEAsICdfaXNhJywgICAgIGlzYVxuICAgICAgICBzZXRfZ2V0dGVyIEAsIENGRywgID0+IEBUW0NGR11cbiAgICAgICAgQGRhdGEgICAgICAgICAgICAgPSB7fVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG5cbiAgICAgICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgaXNhOiAoIHgsIFAuLi4gKSAtPlxuICAgICAgICBSID0gQF9pc2EuY2FsbCBALCB4LCBQLi4uXG4gICAgICAgIHJldHVybiBSXG5cbiAgICAgICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgaXNhX2RhdG1hcDogKCBbIHgsIFAuLi4sIF0sIGRhdGEgPSBudWxsLCBtYXBwaW5nID0gbnVsbCApIC0+XG4gICAgICAgIEBkYXRhICAgPSB7fVxuICAgICAgICBSICAgICAgID0gQGlzYSB4LCBQLi4uXG4gICAgICAgICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAgICAgaWYgZGF0YT9cbiAgICAgICAgICBpZiBtYXBwaW5nPyAgICAgdGhlbiAgY2xlYW5fYXNzaWduIGRhdGEsICggcmVtYXAgKCBjbGVhbl9hc3NpZ24ge30sIEBkYXRhICksIG1hcHBpbmcgKSAgIyMjIGQxIG0xICMjI1xuICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICBjbGVhbl9hc3NpZ24gZGF0YSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGRhdGEgICAgICAgICAgICAgICAjIyMgZDEgbTAgIyMjXG4gICAgICAgIGVsc2UgaWYgbWFwcGluZz8gIHRoZW4gICAgICAgICAgICAgICAgICAgICAgIHJlbWFwICAgICAgICAgICAgICAgICAgICBAZGF0YSwgICBtYXBwaW5nICAgICMjIyBkMCBtMSAjIyNcbiAgICAgICAgcmV0dXJuIFIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjIGQwIG0wICMjI1xuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGRhdG1hcF9pc2E6ICggZGF0YSwgbWFwcGluZywgeCwgUC4uLiApIC0+XG4gICAgICAgIEBkYXRhICAgPSB7fVxuICAgICAgICBSICAgICAgID0gQGlzYSB4LCBQLi4uXG4gICAgICAgICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAgICAgaWYgZGF0YT9cbiAgICAgICAgICBpZiBtYXBwaW5nPyAgICAgdGhlbiAgY2xlYW5fYXNzaWduIGRhdGEsICggcmVtYXAgKCBjbGVhbl9hc3NpZ24ge30sIEBkYXRhICksIG1hcHBpbmcgKSAgIyMjIGQxIG0xICMjI1xuICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICBjbGVhbl9hc3NpZ24gZGF0YSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGRhdGEgICAgICAgICAgICAgICAjIyMgZDEgbTAgIyMjXG4gICAgICAgIGVsc2UgaWYgbWFwcGluZz8gIHRoZW4gICAgICAgICAgICAgICAgICAgICAgIHJlbWFwICAgICAgICAgICAgICAgICAgICBAZGF0YSwgICBtYXBwaW5nICAgICMjIyBkMCBtMSAjIyNcbiAgICAgICAgcmV0dXJuIFIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjIGQwIG0wICMjI1xuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIHZhbGlkYXRlOiAoIHgsIFAuLi4gKSAtPlxuICAgICAgICByZXR1cm4geCBpZiBAaXNhIHgsIFAuLi5cbiAgICAgICAgIyMjIFRBSU5UIHVzZSBiZXR0ZXIgcnByKCkgIyMjXG4gICAgICAgIHRocm93IG5ldyBFcnJvciBcIs6pYmJudF9fXzIgbm90IGEgdmFsaWQgI3tAbmFtZX06ICN7eH1cIlxuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIHZhbGlkYXRlX2RhdG1hcDogKCBbIHgsIFAuLi4sIF0sIGRhdGEgPSBudWxsLCBtYXBwaW5nID0gbnVsbCApIC0+XG4gICAgICAgIHJldHVybiB4IGlmIEBpc2FfZGF0bWFwIFsgeCwgUC4uLiwgXSwgZGF0YSwgbWFwcGluZ1xuICAgICAgICAjIyMgVEFJTlQgdXNlIGJldHRlciBycHIoKSAjIyNcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yIFwizqliYm50X19fMyBub3QgYSB2YWxpZCAje0BuYW1lfTogI3t4fVwiXG5cbiAgICAgICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgYXNzaWduOiAoIFAuLi4gKSAtPiBjbGVhbl9hc3NpZ24gQGRhdGEsIFAuLi5cblxuICAgICAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBmYWlsOiAoIG1lc3NhZ2UsIFAuLi4gKSAtPiBjbGVhbl9hc3NpZ24gQGRhdGEsIHsgbWVzc2FnZSwgfSwgUC4uLjsgZmFsc2VcblxuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBjbGFzcyBUeXBlc3BhY2VcblxuICAgICAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBAW0NGR106IG51bGxcblxuICAgICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICBjb25zdHJ1Y3RvcjogKCBjZmcgPSBudWxsICkgLT5cbiAgICAgICAgY2xhc3ogICA9IEBjb25zdHJ1Y3RvclxuICAgICAgICBAW0NGR10gID0gZnJlZXplIGNsZWFuX2Fzc2lnbiB7fSwgKCBjbGFzeltDRkddID8gdW5kZWZpbmVkICksICggY2ZnID8gdW5kZWZpbmVkIClcbiAgICAgICAgZm9yIG5hbWUgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgY2xhc3pcbiAgICAgICAgICBjbGFzcyBUeXBlY2xhc3MgZXh0ZW5kcyBUeXBlXG4gICAgICAgICAgbmFtZWl0IG5hbWUsIFR5cGVjbGFzc1xuICAgICAgICAgIEBbIG5hbWUgXSA9IG5ldyBUeXBlY2xhc3MgQCwgbmFtZSwgaXNhID0gY2xhc3pbIG5hbWUgXVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIHJldHVybiBleHBvcnRzID0geyBUeXBlLCBUeXBlc3BhY2UsIENGRywgfVxuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuT2JqZWN0LmFzc2lnbiBtb2R1bGUuZXhwb3J0cywgQlJJQ1NcbiJdfQ==
