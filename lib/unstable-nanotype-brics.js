(function() {
  'use strict';
  var BRICS;

  //###########################################################################################################

  //===========================================================================================================
  BRICS = {
    //=========================================================================================================
    /* NOTE Future Single-File Module */
    require_nanotypes: function() {
      var CFG, SFMODULES, Type, Typespace, clean_assign, exports, freeze, hide, nameit, remap, set_getter;
      //=======================================================================================================
      SFMODULES = require('./main');
      ({clean_assign} = SFMODULES.unstable.require_clean_assign());
      ({hide, set_getter} = SFMODULES.require_managed_property_tools());
      ({nameit} = SFMODULES.require_nameit());
      ({remap} = SFMODULES.unstable.require_remap());
      ({freeze} = Object);
      // { show_no_colors: rpr,  } = SFMODULES.unstable.require_show()
      // { type_of,              } = SFMODULES.unstable.require_type_of()
      CFG = Symbol.for('cfg');
      //=======================================================================================================
      Type = class Type {
        //-----------------------------------------------------------------------------------------------------
        constructor(typespace, name, isa) {
          hide(this, 'name', name);
          hide(this, 'T', typespace);
          hide(this, '_isa', isa);
          set_getter(this, CFG, () => {
            return this.T[CFG];
          });
          this.data = {}; // new Bounded_list()
          return void 0;
        }

        //-----------------------------------------------------------------------------------------------------
        isa(x, data = null, mapping = null) {
          var R;
          this.data = {};
          R = this._isa.call(this, x);
          //...................................................................................................
          if (data != null) {
            if (mapping != null) {
              clean_assign(data, remap(clean_assign({}, this.data), mapping));
            } else {
              /* d1 m1 */              clean_assign(data, this.data);
            }
          } else /* d1 m0 */if (mapping != null) {
            remap(this.data, mapping);
          }
/* d0 m1 */          return R/* d0 m0 */;
        }

        //-----------------------------------------------------------------------------------------------------
        assign(...P) {
          return clean_assign(this.data, ...P);
        }

        //-----------------------------------------------------------------------------------------------------
        fail(message, ...P) {
          clean_assign(this.data, {message}, ...P);
          return false;
        }

      };
      Typespace = (function() {
        //=======================================================================================================
        class Typespace {
          //=====================================================================================================
          constructor(cfg = null) {
            var Typeclass, clasz, i, isa, len, name, ref, ref1;
            clasz = this.constructor;
            this[CFG] = freeze(clean_assign({}, (ref = clasz[CFG]) != null ? ref : void 0, cfg != null ? cfg : void 0));
            ref1 = Object.getOwnPropertyNames(clasz);
            for (i = 0, len = ref1.length; i < len; i++) {
              name = ref1[i];
              Typeclass = class Typeclass extends Type {};
              nameit(name, Typeclass);
              this[name] = new Typeclass(this, name, isa = clasz[name]);
            }
            return void 0;
          }

        };

        //-----------------------------------------------------------------------------------------------------
        Typespace[CFG] = null;

        return Typespace;

      }).call(this);
      //=======================================================================================================
      return exports = {Type, Typespace, CFG};
    }
  };

  //===========================================================================================================
  Object.assign(module.exports, BRICS);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3Vuc3RhYmxlLW5hbm90eXBlLWJyaWNzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUFBO0FBQUEsTUFBQSxLQUFBOzs7OztFQU1BLEtBQUEsR0FJRSxDQUFBOzs7SUFBQSxpQkFBQSxFQUFtQixRQUFBLENBQUEsQ0FBQTtBQUVyQixVQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxZQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxVQUFBOztNQUNJLFNBQUEsR0FBNEIsT0FBQSxDQUFRLFFBQVI7TUFDNUIsQ0FBQSxDQUFFLFlBQUYsQ0FBQSxHQUE0QixTQUFTLENBQUMsUUFBUSxDQUFDLG9CQUFuQixDQUFBLENBQTVCO01BQ0EsQ0FBQSxDQUFFLElBQUYsRUFDRSxVQURGLENBQUEsR0FDNEIsU0FBUyxDQUFDLDhCQUFWLENBQUEsQ0FENUI7TUFFQSxDQUFBLENBQUUsTUFBRixDQUFBLEdBQTRCLFNBQVMsQ0FBQyxjQUFWLENBQUEsQ0FBNUI7TUFDQSxDQUFBLENBQUUsS0FBRixDQUFBLEdBQTRCLFNBQVMsQ0FBQyxRQUFRLENBQUMsYUFBbkIsQ0FBQSxDQUE1QjtNQUNBLENBQUEsQ0FBRSxNQUFGLENBQUEsR0FBNEIsTUFBNUIsRUFQSjs7O01BVUksR0FBQSxHQUE0QixNQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsRUFWaEM7O01BYVUsT0FBTixNQUFBLEtBQUEsQ0FBQTs7UUFHRSxXQUFhLENBQUUsU0FBRixFQUFhLElBQWIsRUFBbUIsR0FBbkIsQ0FBQTtVQUNYLElBQUEsQ0FBSyxJQUFMLEVBQVEsTUFBUixFQUFvQixJQUFwQjtVQUNBLElBQUEsQ0FBSyxJQUFMLEVBQVEsR0FBUixFQUFvQixTQUFwQjtVQUNBLElBQUEsQ0FBSyxJQUFMLEVBQVEsTUFBUixFQUFvQixHQUFwQjtVQUNBLFVBQUEsQ0FBVyxJQUFYLEVBQWMsR0FBZCxFQUFvQixDQUFBLENBQUEsR0FBQTttQkFBRyxJQUFDLENBQUEsQ0FBQyxDQUFDLEdBQUQ7VUFBTCxDQUFwQjtVQUNBLElBQUMsQ0FBQSxJQUFELEdBQW9CLENBQUEsRUFKNUI7QUFLUSxpQkFBTztRQU5JLENBRG5COzs7UUFVTSxHQUFLLENBQUUsQ0FBRixFQUFLLE9BQU8sSUFBWixFQUFrQixVQUFVLElBQTVCLENBQUE7QUFDWCxjQUFBO1VBQVEsSUFBQyxDQUFBLElBQUQsR0FBVSxDQUFBO1VBQ1YsQ0FBQSxHQUFVLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBTixDQUFXLElBQVgsRUFBYyxDQUFkLEVBRGxCOztVQUdRLElBQUcsWUFBSDtZQUNFLElBQUcsZUFBSDtjQUFzQixZQUFBLENBQWEsSUFBYixFQUFxQixLQUFBLENBQVEsWUFBQSxDQUFhLENBQUEsQ0FBYixFQUFpQixJQUFDLENBQUEsSUFBbEIsQ0FBUixFQUFrQyxPQUFsQyxDQUFyQixFQUF0QjthQUFBLE1BQUE7QUFBd0YsdUNBQ2xFLFlBQUEsQ0FBYSxJQUFiLEVBQThDLElBQUMsQ0FBQSxJQUEvQyxFQUR0QjthQURGO1dBQUEsTUFFMEYsV0FDckYsSUFBRyxlQUFIO1lBQXdDLEtBQUEsQ0FBeUIsSUFBQyxDQUFBLElBQTFCLEVBQWtDLE9BQWxDLEVBQXhDOztBQUFxRixXQUMxRixpQkFBTyxDQUFtRjtRQVJ2RixDQVZYOzs7UUFxQk0sTUFBUSxDQUFBLEdBQUUsQ0FBRixDQUFBO2lCQUFZLFlBQUEsQ0FBYSxJQUFDLENBQUEsSUFBZCxFQUFvQixHQUFBLENBQXBCO1FBQVosQ0FyQmQ7OztRQXdCTSxJQUFNLENBQUUsT0FBRixFQUFBLEdBQVcsQ0FBWCxDQUFBO1VBQXFCLFlBQUEsQ0FBYSxJQUFDLENBQUEsSUFBZCxFQUFvQixDQUFFLE9BQUYsQ0FBcEIsRUFBa0MsR0FBQSxDQUFsQztpQkFBd0M7UUFBN0Q7O01BMUJSO01BOEJNOztRQUFOLE1BQUEsVUFBQSxDQUFBOztVQU1FLFdBQWEsQ0FBRSxNQUFNLElBQVIsQ0FBQTtBQUNuQixnQkFBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUE7WUFBUSxLQUFBLEdBQVUsSUFBQyxDQUFBO1lBQ1gsSUFBQyxDQUFDLEdBQUQsQ0FBRCxHQUFVLE1BQUEsQ0FBTyxZQUFBLENBQWEsQ0FBQSxDQUFiLHFDQUFnQyxNQUFoQyxnQkFBK0MsTUFBTSxNQUFyRCxDQUFQO0FBQ1Y7WUFBQSxLQUFBLHNDQUFBOztjQUNRLFlBQU4sTUFBQSxVQUFBLFFBQXdCLEtBQXhCLENBQUE7Y0FDQSxNQUFBLENBQU8sSUFBUCxFQUFhLFNBQWI7Y0FDQSxJQUFDLENBQUUsSUFBRixDQUFELEdBQVksSUFBSSxTQUFKLENBQWMsSUFBZCxFQUFpQixJQUFqQixFQUF1QixHQUFBLEdBQU0sS0FBSyxDQUFFLElBQUYsQ0FBbEM7WUFIZDtBQUlBLG1CQUFPO1VBUEk7O1FBTmY7OztRQUdFLFNBQUUsQ0FBQSxHQUFBLENBQUYsR0FBUTs7OztvQkE5Q2Q7O0FBMkRJLGFBQU8sT0FBQSxHQUFVLENBQUUsSUFBRixFQUFRLFNBQVIsRUFBbUIsR0FBbkI7SUE3REE7RUFBbkIsRUFWRjs7O0VBMkVBLE1BQU0sQ0FBQyxNQUFQLENBQWMsTUFBTSxDQUFDLE9BQXJCLEVBQThCLEtBQTlCO0FBM0VBIiwic291cmNlc0NvbnRlbnQiOlsiXG4ndXNlIHN0cmljdCdcblxuXG4jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiNcbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuQlJJQ1MgPVxuXG4gICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgIyMjIE5PVEUgRnV0dXJlIFNpbmdsZS1GaWxlIE1vZHVsZSAjIyNcbiAgcmVxdWlyZV9uYW5vdHlwZXM6IC0+XG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIFNGTU9EVUxFUyAgICAgICAgICAgICAgICAgPSByZXF1aXJlICcuL21haW4nXG4gICAgeyBjbGVhbl9hc3NpZ24sICAgICAgICAgfSA9IFNGTU9EVUxFUy51bnN0YWJsZS5yZXF1aXJlX2NsZWFuX2Fzc2lnbigpXG4gICAgeyBoaWRlLFxuICAgICAgc2V0X2dldHRlciwgICAgICAgICAgIH0gPSBTRk1PRFVMRVMucmVxdWlyZV9tYW5hZ2VkX3Byb3BlcnR5X3Rvb2xzKClcbiAgICB7IG5hbWVpdCwgICAgICAgICAgICAgICB9ID0gU0ZNT0RVTEVTLnJlcXVpcmVfbmFtZWl0KClcbiAgICB7IHJlbWFwLCAgICAgICAgICAgICAgICB9ID0gU0ZNT0RVTEVTLnVuc3RhYmxlLnJlcXVpcmVfcmVtYXAoKVxuICAgIHsgZnJlZXplLCAgICAgICAgICAgICAgIH0gPSBPYmplY3RcbiAgICAjIHsgc2hvd19ub19jb2xvcnM6IHJwciwgIH0gPSBTRk1PRFVMRVMudW5zdGFibGUucmVxdWlyZV9zaG93KClcbiAgICAjIHsgdHlwZV9vZiwgICAgICAgICAgICAgIH0gPSBTRk1PRFVMRVMudW5zdGFibGUucmVxdWlyZV90eXBlX29mKClcbiAgICBDRkcgICAgICAgICAgICAgICAgICAgICAgID0gU3ltYm9sLmZvciAnY2ZnJ1xuXG4gICAgIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBjbGFzcyBUeXBlXG5cbiAgICAgICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgY29uc3RydWN0b3I6ICggdHlwZXNwYWNlLCBuYW1lLCBpc2EgKSAtPlxuICAgICAgICBoaWRlIEAsICduYW1lJywgICAgIG5hbWVcbiAgICAgICAgaGlkZSBALCAnVCcsICAgICAgICB0eXBlc3BhY2VcbiAgICAgICAgaGlkZSBALCAnX2lzYScsICAgICBpc2FcbiAgICAgICAgc2V0X2dldHRlciBALCBDRkcsICA9PiBAVFtDRkddXG4gICAgICAgIEBkYXRhICAgICAgICAgICAgID0ge30gIyBuZXcgQm91bmRlZF9saXN0KClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlzYTogKCB4LCBkYXRhID0gbnVsbCwgbWFwcGluZyA9IG51bGwgKSAtPlxuICAgICAgICBAZGF0YSAgID0ge31cbiAgICAgICAgUiAgICAgICA9IEBfaXNhLmNhbGwgQCwgeFxuICAgICAgICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIGlmIGRhdGE/XG4gICAgICAgICAgaWYgbWFwcGluZz8gICAgIHRoZW4gIGNsZWFuX2Fzc2lnbiBkYXRhLCAoIHJlbWFwICggY2xlYW5fYXNzaWduIHt9LCBAZGF0YSApLCBtYXBwaW5nICkgICMjIyBkMSBtMSAjIyNcbiAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgY2xlYW5fYXNzaWduIGRhdGEsICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBkYXRhICAgICAgICAgICAgICAgIyMjIGQxIG0wICMjI1xuICAgICAgICBlbHNlIGlmIG1hcHBpbmc/ICB0aGVuICAgICAgICAgICAgICAgICAgICAgICByZW1hcCAgICAgICAgICAgICAgICAgICAgQGRhdGEsICAgbWFwcGluZyAgICAjIyMgZDAgbTEgIyMjXG4gICAgICAgIHJldHVybiBSICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMjIyBkMCBtMCAjIyNcblxuICAgICAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBhc3NpZ246ICggUC4uLiApIC0+IGNsZWFuX2Fzc2lnbiBAZGF0YSwgUC4uLlxuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGZhaWw6ICggbWVzc2FnZSwgUC4uLiApIC0+IGNsZWFuX2Fzc2lnbiBAZGF0YSwgeyBtZXNzYWdlLCB9LCBQLi4uOyBmYWxzZVxuXG5cbiAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIGNsYXNzIFR5cGVzcGFjZVxuXG4gICAgICAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIEBbQ0ZHXTogbnVsbFxuXG4gICAgICAjPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIGNvbnN0cnVjdG9yOiAoIGNmZyA9IG51bGwgKSAtPlxuICAgICAgICBjbGFzeiAgID0gQGNvbnN0cnVjdG9yXG4gICAgICAgIEBbQ0ZHXSAgPSBmcmVlemUgY2xlYW5fYXNzaWduIHt9LCAoIGNsYXN6W0NGR10gPyB1bmRlZmluZWQgKSwgKCBjZmcgPyB1bmRlZmluZWQgKVxuICAgICAgICBmb3IgbmFtZSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyBjbGFzelxuICAgICAgICAgIGNsYXNzIFR5cGVjbGFzcyBleHRlbmRzIFR5cGVcbiAgICAgICAgICBuYW1laXQgbmFtZSwgVHlwZWNsYXNzXG4gICAgICAgICAgQFsgbmFtZSBdID0gbmV3IFR5cGVjbGFzcyBALCBuYW1lLCBpc2EgPSBjbGFzelsgbmFtZSBdXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcblxuICAgICM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgcmV0dXJuIGV4cG9ydHMgPSB7IFR5cGUsIFR5cGVzcGFjZSwgQ0ZHLCB9XG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5PYmplY3QuYXNzaWduIG1vZHVsZS5leHBvcnRzLCBCUklDU1xuIl19
